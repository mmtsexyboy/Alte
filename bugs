# فهرست مشکلات ساختاری پروژه Alte

این فایل شامل لیستی از مشکلات ساختاری شناسایی‌شده در پروژه Alte است که بر اساس تحلیل‌های انجام‌شده در مراحل مختلف (بررسی CMake، سازماندهی کد منبع، هدرها، منابع و فایل‌های جانبی) گردآوری شده است.

## ۱. ساختار دوگانه پروژه (Dual Project Structure)

*   **شرح مشکل:** وجود دو فایل `CMakeLists.txt` مجزا، یکی در ریشه پروژه و دیگری در پوشه `alte/`. این موضوع باعث ابهام در مورد فایل اصلی ساخت پروژه شده و نگهداری و توسعه آن را پیچیده می‌کند. مشخص نیست که آیا `alte/` یک زیرپروژه مستقل است یا نسخه‌ای جایگزین/قدیمی.
    *   **مسیرهای مرتبط:** `CMakeLists.txt` (ریشه), `alte/CMakeLists.txt`

*   **شرح مشکل:** کد تکراری و همچنین متفاوت در پوشه‌های `src/` و `alte/src/`، به ویژه برای فایل‌های اصلی برنامه مانند `main.cpp` و `MainWindow.cpp` (به همراه هدر آن `MainWindow.h`). این دوگانگی منجر به عدم قطعیت در مورد اینکه کدام نسخه از کد، نسخه اصلی و در حال توسعه است و ویژگی‌های متفاوتی را در هر بخش پیاده‌سازی کرده است.
    *   **مسیرهای مرتبط:** `src/main.cpp`, `alte/src/main.cpp`, `src/MainWindow.cpp`, `alte/src/MainWindow.cpp`, `include/MainWindow.h`, `alte/src/MainWindow.h`

## ۲. پیکربندی ساخت (Build Configuration)

*   **شرح مشکل:** استفاده از مسیرهای هاردکد شده و تنظیمات مخصوص پلتفرم در فایل‌های `CMakeLists.txt`. به عنوان مثال، مسیر نصب `/opt/Alte` و معماری `amd64` در `alte/CMakeLists.txt` هاردکد شده‌اند که قابلیت حمل و استاندارد بودن نصب را کاهش می‌دهد. همچنین، فلگ‌های مربوط به Address Sanitizer (`-fsanitize=address`) در `CMakeLists.txt` ریشه، برای تمامی کامپایلرها و پلتفرم‌ها قابل استفاده یا مطلوب نیستند.
    *   **مسیرهای مرتبط:** `alte/CMakeLists.txt` (برای `/opt/Alte` و معماری), `CMakeLists.txt` (ریشه، برای فلگ‌های sanitizer)

## ۳. سازماندهی کد منبع (Source Code Organization)

*   **شرح مشکل:** فایل هدر `alte/src/MainWindow.h` به نظر می‌رسد در مکان مناسبی قرار نگرفته است، به خصوص اگر `alte/` به عنوان یک ماژول مستقل در نظر گرفته نشود. این فایل برای include کردن هدرهای دیگر پروژه (مانند `AlteSyntaxHighlighter.h`) از مسیرهای نسبی مانند `"include/..."` استفاده می‌کند که نشان‌دهنده وابستگی ساختاری نامناسب به پوشه `include/` از ساختار دیگر پروژه است.
    *   **مسیرهای مرتبط:** `alte/src/MainWindow.h`

*   **شرح مشکل:** به نظر می‌رسد فایل `include/AlteTheme.h` با توجه به نحوه عملکرد `AlteThemeManager` (که مستقیماً با JSON کار می‌کند) در حال حاضر در پروژه استفاده نمی‌شود یا مربوط به یک رویکرد قدیمی‌تر برای مدیریت تم‌ها است.
    *   **مسیرهای مرتبط:** `include/AlteTheme.h`, `include/AlteThemeManager.h`

## ۴. مدیریت منابع (Resource Management)

*   **شرح مشکل:** فایل `icon.svg` در فایل `CMakeLists.txt` ریشه برای نصب به عنوان آیکون برنامه ارجاع داده شده است، اما این فایل در مخزن پروژه موجود نیست. این موضوع باعث می‌شود که آیکون برنامه به درستی در محیط دسکتاپ نمایش داده نشود.
    *   **مسیرهای مرتبط:** `CMakeLists.txt` (ریشه، بخش `install(FILES icon.svg ...)`), پوشه `resources/icons/` (فاقد `icon.svg`)

*   **شرح مشکل:** فایل آیکون موجود `resources/icons/alte_icon.png` (که در فایل `Alte.qrc` برای آیکون پنجره استفاده شده) به شکلی نصب نمی‌شود که توسط محیط‌های دسکتاپ لینوکس به عنوان آیکون اصلی برنامه در منوها یا دسکتاپ مورد استفاده قرار گیرد. فایل `CMakeLists.txt` ریشه تنها برای `icon.svg` چنین تلاشی می‌کند.
    *   **مسیرهای مرتبط:** `CMakeLists.txt` (ریشه), `resources/icons/alte_icon.png`

## ۵. مستندات و فایل‌های جانبی (Documentation and Ancillary Files)

*   **شرح مشکل:** در فایل‌های اصلی مستندات پروژه مانند `README.md` و `VISION.md`، هیچ اشاره‌ای به ساختار دوگانه فعلی پروژه (وجود `src/` و `alte/` به عنوان دو بخش تقریباً مجزا) نشده است. این موضوع می‌تواند برای توسعه‌دهندگان جدید گیج‌کننده باشد.
    *   **مسیرهای مرتبط:** `README.md`, `VISION.md`

*   **شرح مشکل:** اطلاعات مربوط به چشم‌انداز پروژه، اهداف و ویژگی‌های مورد نظر در چندین فایل (`VISION.md`, `README.md` و فایل فارسی `این اینده است که باید امروز پیاده کنیم`) تکرار شده است. این تکرار می‌تواند منجر به ناهماهنگی در آینده شود و نگهداری مستندات را دشوارتر کند.
    *   **مسیرهای مرتبط:** `VISION.md`, `README.md`, `این اینده است که باید امروز پیاده کنیم`

*   **شرح مشکل:** گزارش‌های `cppcheck` (به ویژه `cppcheck_report_configured.txt`) شامل هشدارهایی در مورد منطق شرطی در فایل `src/AlteRope.cpp` و یک توصیه استایل برای سازنده کلاس `MainWindow` در `include/MainWindow.h` است. این موارد نیاز به بررسی و اصلاح احتمالی دارند.
    *   **مسیرهای مرتبط:** `cppcheck_report_configured.txt`, `src/AlteRope.cpp`, `include/MainWindow.h`
